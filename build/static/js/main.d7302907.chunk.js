(this["webpackJsonpionic-loveletter"]=this["webpackJsonpionic-loveletter"]||[]).push([[1],{25:function(e,t,a){},55:function(e,t,a){e.exports=a(81)},62:function(e,t,a){var n={"./ion-action-sheet.entry.js":[83,5],"./ion-alert.entry.js":[84,6],"./ion-app_8.entry.js":[85,7],"./ion-avatar_3.entry.js":[86,17],"./ion-back-button.entry.js":[87,18],"./ion-backdrop.entry.js":[88,43],"./ion-button_2.entry.js":[89,19],"./ion-card_5.entry.js":[90,20],"./ion-checkbox.entry.js":[91,21],"./ion-chip.entry.js":[92,22],"./ion-col_3.entry.js":[93,44],"./ion-datetime_3.entry.js":[94,10],"./ion-fab_3.entry.js":[95,23],"./ion-img.entry.js":[96,45],"./ion-infinite-scroll_2.entry.js":[97,46],"./ion-input.entry.js":[98,24],"./ion-item-option_3.entry.js":[99,25],"./ion-item_8.entry.js":[100,26],"./ion-loading.entry.js":[101,27],"./ion-menu_3.entry.js":[102,28],"./ion-modal.entry.js":[103,8],"./ion-nav_2.entry.js":[104,14],"./ion-popover.entry.js":[105,9],"./ion-progress-bar.entry.js":[106,29],"./ion-radio_2.entry.js":[107,30],"./ion-range.entry.js":[108,31],"./ion-refresher_2.entry.js":[109,11],"./ion-reorder_2.entry.js":[110,16],"./ion-ripple-effect.entry.js":[111,47],"./ion-route_4.entry.js":[112,32],"./ion-searchbar.entry.js":[113,33],"./ion-segment_2.entry.js":[114,34],"./ion-select_3.entry.js":[115,35],"./ion-slide_2.entry.js":[116,48],"./ion-spinner.entry.js":[117,13],"./ion-split-pane.entry.js":[118,49],"./ion-tab-bar_2.entry.js":[119,36],"./ion-tab_2.entry.js":[120,15],"./ion-text.entry.js":[121,37],"./ion-textarea.entry.js":[122,38],"./ion-toast.entry.js":[123,39],"./ion-toggle.entry.js":[124,12],"./ion-virtual-scroll.entry.js":[125,50]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=62,e.exports=r},64:function(e,t,a){var n={"./ion-icon.entry.js":[127,57]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=64,e.exports=r},65:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),i=a.n(l),c=a(3),s=a(1),o=a(14),d=a(10),u=(a(65),a(6)),m=a(4),h=function e(t,a,n,r){Object(m.a)(this,e),this.name=void 0,this.id=void 0,this.callback=void 0,this.listenerType=void 0,this.tag=void 0,this.prevValueStr=void 0,this.listenerType=t,this.tag=a,this.name=n,this.callback=r,this.id=-1,this.prevValueStr=""},p=function(){function e(){Object(m.a)(this,e),this.events=void 0,this.listenerId=void 0,this.properties=void 0,this.events={},this.properties={},this.listenerId=0}return Object(u.a)(e,[{key:"registerListenerToMap",value:function(e,t){var a=e[t.name];void 0===a&&(a=e[t.name]=[]),this.listenerId+=1,t.id=this.listenerId,a.push(t)}},{key:"removeListenerFromMap",value:function(e,t){var a,n=e[t.name];for(void 0===n&&(n=e[t.name]=[]),a=0;a<n.length;a+=1)if(n[a].id===t.id)return n.splice(a,1),!0;throw Error("No listener with id "+t.id+" found...")}},{key:"triggerEvent",value:function(e,t){var a,n=this.events[e];for(a=0;a<n.length;a+=1)n[a].callback(t)}},{key:"propertyChange",value:function(e,t,a,n){var r,l=this.properties[e];for(r=0;r<l.length;r+=1)0!==n.length&&l[r].tag!==n||l[r].prevValueStr!==t&&(l[r].prevValueStr=t,l[r].callback(a))}},{key:"register",value:function(e){var t;for(t=0;t<e.list.length;t+=1){var a="EVENT"===e.list[t].listenerType?this.events:this.properties;this.registerListenerToMap(a,e.list[t])}}},{key:"clean",value:function(e){var t;for(t=0;t<e.list.length;t+=1){var a="EVENT"===e.list[t].listenerType?this.events:this.properties;this.removeListenerFromMap(a,e.list[t])}}}]),e}(),E=function(){function e(t){Object(m.a)(this,e),this.list=void 0,this.tag=void 0,this.list=[],this.tag=t}return Object(u.a)(e,[{key:"setProperties",value:function(e){var t;for(t=0;t<this.list.length;t+=1){var a=this.list[t];"PROPERTY"===a.listenerType&&a.callback(e[a.name])}}},{key:"onPropertyChange",value:function(e,t){this.list.push(new h("PROPERTY",this.tag,e,t))}},{key:"onEvent",value:function(e,t){this.list.push(new h("EVENT",this.tag,e,t))}}]),e}(),y=["GUARD","PRIEST","BARON","HANDMAID","PRINCE","KING","COUNTESS","PRINCESS"],g=function e(t){Object(m.a)(this,e),this.value=void 0,this.name=void 0,this.numInDeck=void 0,this.shortAction=void 0,this.action=void 0,this.cardType=void 0,this.value=t.value,this.name=t.name,this.numInDeck=t.numInDeck,this.shortAction=t.shortAction,this.action=t.action,this.cardType=y[t.value]},v={GUARD:new g({value:1,name:"Guard",numInDeck:5,shortAction:'Guess another players card (you cannot guess "Guard").',action:'Pick another player and guess their card type (you cannot guess "Guard"). If correct, the other player is eliminated.'}),PRIEST:new g({value:2,name:"Priest",numInDeck:2,shortAction:"Pick another player to privately see their hand.",action:"Pick another player to privately see their hand."}),BARON:new g({value:3,name:"Baron",numInDeck:2,shortAction:"Pick another player and compare hands. Lowest value is eliminated.",action:"Pick another player and privately compare hands. The player with the lower-strength hand is eliminated."}),HANDMAID:new g({value:4,name:"Handmaid",numInDeck:2,shortAction:"You cannot be targeted until your next turn.",action:"You cannot be targeted until your next turn."}),PRINCE:new g({value:5,name:"Prince",numInDeck:2,shortAction:"Pick any player to discard their hand and draw a new one.",action:"Pick any player (including yourself) to discard their hand and draw a new one. If they discard the Princess they are eliminated."}),KING:new g({value:6,name:"King",numInDeck:1,shortAction:"Pick another player and trade hands with them.",action:"Pick another player and trade hands with them."}),COUNTESS:new g({value:7,name:"Countess",numInDeck:1,shortAction:"Must be played if your other card is a King or Prince.",action:"If your other card is a King or Prince card, this card must be played."}),PRINCESS:new g({value:8,name:"Princess",numInDeck:1,shortAction:"If you play this card for any reason, you are eliminated.",action:"If you play this card for any reason, you are eliminated from the round."})},f=[-1,-1,7,5,4,4,4,4,4],I=[];function C(e){return I[e]}!function(){function e(e){var t,a=v[e].numInDeck;for(t=0;t<a;t+=1)I.push(e)}var t;for(t=0;t<y.length;t+=1)e(y[t]),v[y[t]].cardType=y[t]}();var b=I.length;function k(e){return v[e]}var D=new(function(){function e(){Object(m.a)(this,e),this.pickedCharacterId=void 0,this.alreadyPickedIds=void 0,this.playerId=void 0,this.numPlayers=void 0,this.key=void 0,this.username=void 0,this.roomcode=void 0,this.websocket=void 0,this.playerDetails=void 0,this.gameState=void 0,this.loggedIn=void 0,this.roomSeed=void 0,this.prevUIData=void 0,this.hand=void 0,this.handIds=void 0,this.turnId=void 0,this.interaction=void 0,this.uiEventHandler=void 0,this.delayUiUpdates=void 0,this.gotoTab=void 0,this.uiEventHandler=new p,this.delayUiUpdates=!1,this.gotoTab=null,this.pickedCharacterId=-1,this.alreadyPickedIds=[],this.playerId=-1,this.numPlayers=0,this.hand=[],this.handIds=[],this.turnId=-1,this.playerDetails=[],this.gameState="LOGIN",this.loggedIn=!1,this.interaction={playerId:-1,targetId:-1,playedCard:"GUARD",status:null},this.roomSeed=0;var t,a,n=window.localStorage;for(this.key=n.getItem("key"),this.key||(this.key=Math.floor(9999999*Math.random()),n.setItem("key",String(this.key))),this.username=n.getItem("name")||"",this.roomcode=n.getItem("room")||"",this.websocket=null,this.prevUIData={},t=0;t<y.length;t+=1)a="img/"+y[t]+".png",(new Image).src=a}return Object(u.a)(e,[{key:"effectListeners",value:function(e){var t=this;return e.setProperties(this.buildUIValues(null)),this.uiEventHandler.register(e),function(){t.uiEventHandler.clean(e)}}},{key:"buildUIValues",value:function(e){var t=this,a={playerDetails:this.playerDetails,hand:this.hand,playerId:this.playerId,turnId:this.turnId,interaction:this.interaction,gameState:this.gameState,loggedIn:this.loggedIn,username:this.username,roomcode:this.roomcode,pickedCharacterId:this.pickedCharacterId,roomSeed:this.roomSeed};function n(t,n){null!==e&&t!==e||(a[t]=n())}return n("discardedCardTotals",(function(){return t.getCardDiscardedCountArray()})),n("alreadyPickedIds",(function(){return t.getAlreadyPickedCharacterIds()})),a}},{key:"updateUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this.delayUiUpdates||""!==e){var t,a=this.buildUIValues(null);for(t in this.uiEventHandler.properties){var n=JSON.stringify(a[t]);this.uiEventHandler.propertyChange(t,n,JSON.parse(n),e),this.prevUIData[t]=n}}}},{key:"getUiProperty",value:function(e){return this.buildUIValues(e)[e]}},{key:"resetGame",value:function(){this.hand=[],this.handIds=[],this.turnId=-1}},{key:"joinRoom",value:function(e,t){this.username=e,this.roomcode=t.toUpperCase();var a=window.localStorage;function n(e,t){return e.charCodeAt(0)-"A".charCodeAt(0)}a.setItem("name",e),a.setItem("room",this.roomcode),this.websocket=new WebSocket("wss://u72xrovjcj.execute-api.eu-west-2.amazonaws.com/test?room="+this.roomcode+"&key="+this.key+"&name="+this.username),this.roomSeed=41*(n(this.roomcode)+(26*n(this.roomcode)+(26*n(this.roomcode)+26*n(this.roomcode))));var r=this;this.websocket.onopen=function(){r.onopen()},this.websocket.onmessage=function(e){r.onmessage(e.data)},this.websocket.onclose=function(){r.uiEventHandler.triggerEvent("leaveRoom"),r.gameState="LOGIN",r.loggedIn=!1,r.updateUI()},this.websocket.onerror=function(){r.uiEventHandler.triggerEvent("connectionError",r.roomcode+""),r.roomcode="",r.loggedIn=!1,r.updateUI()}}},{key:"onopen",value:function(){this.send({cmd:"GET"}),this.loggedIn=!0,this.updateUI()}},{key:"createRoom",value:function(){var e=this,t=new XMLHttpRequest;t.onload=function(){try{var a=JSON.parse(t.response);e.roomcode=a.room,e.updateUI()}catch(n){}},t.open("GET","https://bzlzgmgcuh.execute-api.eu-west-2.amazonaws.com/default/loveletter-create"),t.setRequestHeader("Content-Type","text/plain"),t.send()}},{key:"getAlreadyPickedCharacterIds",value:function(){var e,t;for(this.alreadyPickedIds=[],e=0;e<this.playerDetails.length;e+=1)t=this.playerDetails[e],e!==this.playerId&&-1!==t.characterId&&this.alreadyPickedIds.push(t.characterId);return this.alreadyPickedIds}},{key:"pickCharacter",value:function(e){this.send({cmd:"PICK_CHARACTER",characterId:e})}},{key:"clearPickedCharacter",value:function(){this.send({cmd:"CLEAR_PICKED_CHARACTER"})}},{key:"getCardDiscardedCountArray",value:function(){var e,t=[];for(e=0;e<y.length;e+=1)t[e]=this.getCardDiscardedCount(y[e]);return t}},{key:"getCardDiscardedCount",value:function(e){var t,a,n=0;for(t=0;t<this.playerDetails.length;t+=1){var r=this.playerDetails[t].discarded;for(a=0;a<r.length;a+=1)r[a]===e&&(n+=1)}return n}},{key:"send",value:function(e){e.room=this.roomcode,this.websocket.send(JSON.stringify(e))}},{key:"start",value:function(){this.send({cmd:"START"})}},{key:"onmessage",value:function(e){var t=this.interaction.status;"CONTINUE"===t&&(t="REVEAL");var a=JSON.parse(e);switch(a.cmd){case"CHARACTER_ID_IN_USE":this.uiEventHandler.triggerEvent("pickedCharacterInUse");break;case"CHARACTER_PICKED":this.playerDetails[a.playerId].characterId=a.characterId,a.playerId===this.playerId&&(this.pickedCharacterId=a.characterId,this.uiEventHandler.triggerEvent("redirect","/tabs/game"));break;case"CLEAR_CHARACTER_PICK":this.playerDetails[a.playerId].characterId=-1;break;case"START_CARD":this.playerId=a.playerId,this.addCard(a.pickup);break;case"PICKUP":case"YOUR_TURN":this.playerDetails[this.playerId].state="ALIVE",this.addCard(a.pickup);break;case"JOINED":if(a.index>=this.playerDetails.length)this.playerDetails[a.index]={name:a.name,characterId:void 0===a.characterId||null===a.characterId?-1:a.characterId,wins:0,state:"ALIVE",discarded:[]};else{var n=this.playerDetails[a.index];n.name=a.name,n.characterId=void 0===a.characterId||null===a.characterId?-1:a.characterId}break;case"START_GAME":case"STATE":case"PLAYED":case"NEXT_ROUND":case"END_TURN":case"ROUND_COMPLETE":this.gotFullState(a);break;case"REVEALED":this.interaction.status="CONTINUE",this.reveal();break;case"NEXT_TURN":this.nextTurn(a);break;case"DISCARD":this.discard(a)}var r,l=this.interaction.status;if(("CONTINUE"===l&&(l="REVEAL"),l!==t)&&(null!==this.interaction.status?"ROUND_COMPLETE"===this.interaction.status?(this.updateUI("roundComplete"),r="/page/RoundComplete"):(this.updateUI("interaction"),r="/tabs/interaction"):(window.location.pathname.endsWith("/tabs/interaction")||window.location.pathname.endsWith("/page/RoundComplete"))&&(this.updateUI("game"),r="/tabs/game"),r)){this.delayUiUpdates=!0;var i=this;this.gotoTab=r,setTimeout((function(){i.uiEventHandler.triggerEvent("redirect",i.gotoTab);var e=setInterval((function(){window.location.pathname.endsWith(i.gotoTab)&&(i.gotoTab=null,i.delayUiUpdates=!1,i.updateUI(),clearInterval(e))}),10)}),1)}this.updateUI()}},{key:"updatePlayerDetails",value:function(e){var t;for(this.playerDetails=[],t=0;t<e.players.length;t+=1){var a=e.players[t],n={name:a.name,characterId:null===a.characterId||void 0===a.characterId?-1:a.characterId,wins:0,state:"ALIVE",discarded:[]};if(e.playerStates){var r,l=e.playerStates[t];for(n.wins=l.wins,r=0;r<l.played.length;r+=1)n.discarded.push(C(l.played[r]));n.state=l.state}this.playerId===t&&(this.pickedCharacterId=null===a.characterId||void 0===a.characterId?-1:a.characterId),this.playerDetails.push(n)}}},{key:"playCard",value:function(e,t,a){var n;0===e?n="PLAY_HAND":1===e&&(n="PLAY_PICKUP");var r={room:this.roomcode,cmd:n};void 0!==t&&(r.target=t),void 0!==a&&(r.guess=a),this.send(r),this.delayUiUpdates=!0}},{key:"gotFullState",value:function(e){void 0!==e.playerId&&(this.playerId=e.playerId),this.numPlayers=e.players.length;var t=this.gameState;this.gameState=e.gamestate,"LOGIN"===t&&this.uiEventHandler.triggerEvent("redirect","LOGIN"===e.gamestate?"/page/PickCharacter":"/tabs"),"LOGIN"===e.gamestate?this.updatePlayerDetails(e):"PLAYING"===e.gamestate&&(this.handIds=e.hand||[],this.hand=this.covertNumbersToCards(e.hand||[]),this.turnId=e.turn,void 0===e.interaction.state?this.interaction.status=null:this.interaction={playerId:e.interaction.playerId,playedCard:C(e.interaction.card),otherCard:C(e.interaction.otherCard),status:e.interaction.state,guess:e.interaction.guess,result:e.interaction.result,targetId:e.interaction.target,loserId:e.interaction.loser,revealedCard:C(e.interaction.revealedCard),discard:C(e.interaction.discard),swappedFor:C(e.interaction.swappedFor),swappedForCardId:e.interaction.swappedFor,prevCard:C(e.interaction.prevCard),hiddenCard:C(e.interaction.hiddenCard),finalCards:this.covertNumbersToCards(e.interaction.finalCards||[]),winnerIds:e.interaction.roundWinners,gameWinner:e.interaction.gameWinner},this.updatePlayerDetails(e))}},{key:"covertNumbersToCards",value:function(e){var t,a=[];for(t=0;t<e.length;t+=1)a.push(C(e[t]));return a}},{key:"discard",value:function(e){var t,a=this.playerDetails[e.playerId],n=C(e.card);if(e.playerId!==this.playerId||e.played)a.discarded.push(n);else for(t=0;t<this.handIds.length;t+=1)e.card===this.handIds[t]&&(a.discarded.push(n),this.hand.splice(t,1),this.handIds.splice(t,1))}},{key:"nextTurn",value:function(e){this.turnId=e.turn,this.interaction.status=null,this.playerDetails[this.turnId].state="ALIVE"}},{key:"addCard",value:function(e){var t;for(t=0;t<this.handIds.length;t+=1)if(e===this.handIds[t])return;this.hand.push(C(e)),this.handIds.push(e)}},{key:"roundComplete",value:function(e){}},{key:"interactionStep",value:function(){"CONTINUE"!==this.interaction.status&&"ROUND_COMPLETE"!==this.interaction.status||(this.delayUiUpdates=!0),this.send({cmd:this.interaction.status})}},{key:"reveal",value:function(){"KING"===this.interaction.playedCard&&void 0!==this.interaction.swappedForCardId&&(this.hand[0]=this.interaction.swappedFor,this.handIds[0]=this.interaction.swappedForCardId)}}]),e}());window.expose={clientApp:D};var O=a(8),P=a(9),j=["001-centaur.svg","002-kraken.svg","003-dinosaur.svg","004-tree-1.svg","005-hand.svg","006-echidna.svg","007-robot.svg","008-mushroom.svg","009-harpy.svg","010-phoenix.svg","011-dragon-1.svg","012-devil.svg","013-troll.svg","014-alien.svg","015-minotaur.svg","016-madre-monte.svg","017-satyr.svg","018-karakasakozou.svg","019-pirate.svg","020-werewolf.svg","021-scarecrow.svg","022-valkyrie.svg","023-curupira.svg","024-loch-ness-monster.svg","025-tree.svg","026-cerberus.svg","027-gryphon.svg","028-mermaid.svg","029-vampire.svg","030-goblin.svg","031-yeti.svg","032-leprechaun.svg","033-medusa.svg","034-chimera.svg","035-elf.svg","036-hydra.svg","037-cyclops.svg","038-pegasus.svg","039-narwhal.svg","040-woodcutter.svg","041-zombie.svg","042-dragon.svg","043-frankenstein.svg","044-witch.svg","045-fairy.svg","046-genie.svg","047-pinocchio.svg","048-ghost.svg","049-wizard.svg","050-unicorn.svg"];function N(e){return r.a.createElement("div",{className:e.highlight?"myCard myCardHighlight":"myCard"},e.children)}function w(e){return r.a.createElement("div",{className:"myCard"},r.a.createElement("div",{className:"interactionText"},e.children))}function S(e){return r.a.createElement("span",{className:"cardName cardName"+e.card},k(e.card).name," (",k(e.card).value,")")}function T(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"cardImg",src:"img/"+e.card+".png",alt:e.card}),r.a.createElement("div",{className:"cardText"},k(e.card).action))}function U(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{playerDetails:e.playerDetails}),r.a.createElement("span",{className:"playerName"},e.playerDetails.name))}function R(e){var t;return t=-1===e.playerDetails.characterId?"img/unknown-character.svg":"ALIVE"===e.playerDetails.state||"SAFE"===e.playerDetails.state?"img/characters/"+j[e.playerDetails.characterId]:"img/dead-characters/"+j[e.playerDetails.characterId],r.a.createElement("img",{className:"characterImg",src:t,alt:t})}function A(e){return"SAFE"===e.status?r.a.createElement("img",{className:"statusImg",src:"img/shield.svg",alt:"SAFE"}):"DEAD"===e.status?r.a.createElement("img",{className:"statusImg",src:"img/danger.svg",alt:"DEAD"}):null}var L=function(e){Object(O.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).timerID=void 0,n.state={counter:3},n.timerID=null,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),500)}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState((function(e,t){return{counter:(e.counter+1)%4}}))}},{key:"render",value:function(){var e,t="";for(e=-1;e<this.state.counter;e+=1)t+=".";return r.a.createElement("span",null,t)}}]),a}(r.a.Component),x=[{title:"Game",url:"/tabs/game",icon:d.d},{title:"Help",url:"/page/Help",icon:d.m}],_=function(){var e=Object(o.f)(),t=Object(o.e)(),a=Object(n.useState)(D.getUiProperty("loggedIn")),l=Object(c.a)(a,2),i=l[0],u=l[1],m=Object(n.useState)(D.getUiProperty("roomcode")),h=Object(c.a)(m,2),p=h[0],y=h[1],g=Object(n.useState)(D.getUiProperty("playerDetails")),v=Object(c.a)(g,2),f=v[0],I=v[1],C=Object(n.useState)(D.getUiProperty("playerId")),b=Object(c.a)(C,2),k=b[0],O=b[1];return Object(n.useEffect)((function(){var e=new E("menu");return e.onPropertyChange("roomcode",(function(e){y(e)})),e.onPropertyChange("loggedIn",(function(e){u(e)})),e.onPropertyChange("playerDetails",(function(e){I(e)})),e.onPropertyChange("playerId",(function(e){O(e)})),e.onEvent("redirect",(function(e){t.push(e)})),D.effectListeners(e)}),[]),i?"/page/Login"===e.pathname?null:r.a.createElement(s.l,{contentId:"main",type:"overlay"},r.a.createElement(s.d,null,r.a.createElement(s.k,null,void 0===f[k]||null===f[k].characterId?null:r.a.createElement(s.h,{lines:"none",detail:!1},r.a.createElement("div",{className:"menuCharacter"},r.a.createElement(R,{playerDetails:f[k]}))),r.a.createElement(s.h,{lines:"none",detail:!1},r.a.createElement(s.f,{slot:"start",icon:d.l}),r.a.createElement(s.j,null,"Room: ",p)),"/page/PickCharacter"===e.pathname?null:x.map((function(t,a){return r.a.createElement(s.h,{key:a,className:e.pathname.startsWith(t.url)?"selected":"",routerLink:t.url,routerDirection:"none",lines:"none",detail:!1},r.a.createElement(s.f,{slot:"start",icon:t.icon}),r.a.createElement(s.j,null,t.title))}))))):r.a.createElement(o.a,{to:"/page/Login"})},F=(a(25),a(49));function G(e){return r.a.createElement(r.a.Fragment,null,e.cards.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(S,{card:e}))})))}function H(e){var t,a=new F.a(e.seed),n=[];for(t=0;t<e.wins;t+=1)n.push({gemId:a.nextInt(0,2),hueRotate:a.nextInt(0,359),rotate:a.nextInt(0,359)});return r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement("img",{key:t,className:"gemImg",style:{transform:"rotate("+e.rotate+"deg)",filter:"hue-rotate("+e.hueRotate+"deg)"},src:"img/gem"+e.gemId+".svg",alt:"T"})})))}var W=function(e){Object(O.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).dropdownOpen=void 0,n.state={dropdownOpen:!1},n.dropdownOpen=!1,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{onClick:function(){e.props.hasDropdown&&e.setState((function(e,t){return{dropdownOpen:!e.dropdownOpen}}))},className:"fullBox"},r.a.createElement("div",{className:"playerTopLine"},r.a.createElement("span",{className:"playerTopLineLeft"},r.a.createElement(R,{playerDetails:this.props.playerDetails}),r.a.createElement("span",{className:"playerName"},this.props.playerDetails.name),r.a.createElement(A,{status:this.props.playerDetails.state})),r.a.createElement("span",{className:"playerTopLineRight"},r.a.createElement("span",{className:"middlerHack"}),r.a.createElement(H,{wins:this.props.playerDetails.wins,seed:this.props.seed}),r.a.createElement("span",{className:"gemPadding"}),this.props.playerDetails.discarded.length>0?r.a.createElement(s.f,{icon:this.state.dropdownOpen?d.h:d.f,className:"verticalAlignMiddle"}):r.a.createElement("span",{className:"dropdownHiddenPadding"}))),r.a.createElement("div",null,0!==this.props.playerDetails.discarded.length&&this.state.dropdownOpen?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Discarded:"),r.a.createElement(G,{cards:this.props.playerDetails.discarded})):null))}}]),a}(r.a.Component);function K(e){return r.a.createElement(r.a.Fragment,null,e.playerDetails.map((function(t,a){return r.a.createElement(N,{key:t.name,highlight:e.turnId===a},r.a.createElement(W,{playerDetails:t,hasDropdown:t.discarded.length>0,seed:e.roomSeed+10*a}))})))}function M(e){if("LOGIN"!==e.gameState)return null;if(0===e.playerId){var t,a=!0;for(t=0;t<e.playerDetails.length;t+=1)if(-1===e.playerDetails[t].characterId){a=!1;break}return a?e.playerDetails.length>1?r.a.createElement(w,null,r.a.createElement(s.b,{onClick:function(){D.start()}},"Start Game")):r.a.createElement(w,null,r.a.createElement("div",{className:"interactionText"},"Waiting for more players"),r.a.createElement("div",{className:"interactionDots"},r.a.createElement(L,null))):r.a.createElement(w,null,r.a.createElement("div",{className:"interactionText"},"Waiting players to pick character"),r.a.createElement("div",{className:"interactionDots"},r.a.createElement(L,null)))}return r.a.createElement(w,null,r.a.createElement("div",{className:"interactionText"},"Waiting for game to start"),r.a.createElement("div",{className:"interactionDots"},r.a.createElement(L,null)))}function V(e){if("LOGIN"===e.gameState)return r.a.createElement(w,null,"Room code ",e.roomCode);var t,a=0;for(t=0;t<e.discardedCardTotals.length;t+=1)a+=e.discardedCardTotals[t];var n=b-2-a;for(t=0;t<e.playerDetails.length;t+=1)"DEAD"!==e.playerDetails[t].state&&(n-=1);return n<5?r.a.createElement(N,null,r.a.createElement("div",{className:"cardsLeft"},n," cards left",n<=2?"!":"...")):null}var B=function(){var e=Object(n.useState)(D.getUiProperty("playerDetails")),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(D.getUiProperty("discardedCardTotals")),o=Object(c.a)(i,2),d=o[0],u=o[1],m=Object(n.useState)(D.getUiProperty("gameState")),h=Object(c.a)(m,2),p=h[0],y=h[1],g=Object(n.useState)(D.getUiProperty("roomSeed")),v=Object(c.a)(g,2),f=v[0],I=v[1],C=Object(n.useState)(D.getUiProperty("roomcode")),b=Object(c.a)(C,2),k=b[0],O=b[1],P=Object(n.useState)(D.getUiProperty("playerId")),j=Object(c.a)(P,2),N=j[0],w=j[1],S=Object(n.useState)(D.getUiProperty("turnId")),T=Object(c.a)(S,2),U=T[0],R=T[1];return Object(n.useEffect)((function(){var e=new E("game");return e.onPropertyChange("roomcode",(function(e){O(e)})),e.onPropertyChange("playerDetails",(function(e){l(e)})),e.onPropertyChange("discardedCardTotals",(function(e){u(e)})),e.onPropertyChange("gameState",(function(e){y(e)})),e.onPropertyChange("roomSeed",(function(e){I(e)})),e.onPropertyChange("playerId",(function(e){w(e)})),e.onPropertyChange("turnId",(function(e){R(e)})),D.effectListeners(e)}),[]),r.a.createElement(s.n,{id:"game"},r.a.createElement(s.d,{fullscreen:!0},r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.c,{slot:"start"},r.a.createElement(s.m,null)),r.a.createElement(s.w,null))),r.a.createElement(V,{discardedCardTotals:d,playerDetails:a,gameState:p,roomCode:k}),r.a.createElement(K,{playerDetails:a,turnId:U,roomSeed:f}),r.a.createElement(M,{playerDetails:a,gameState:p,playerId:N})))};function J(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(-1),d=Object(c.a)(o,2),u=d[0],m=d[1],h=Object(n.useState)(!1),p=Object(c.a)(h,2),E=p[0],g=p[1];function v(){"PICK_GUESS"===l?i("PICK_TARGET"):"PICK_TARGET"===l&&i("")}if(""===l)return"COUNTESS"!==e.otherCard||"KING"!==e.card&&"PRINCE"!==e.card?r.a.createElement(N,null,r.a.createElement("div",{className:"cardPlayButtonDiv"},r.a.createElement(s.b,{onClick:function(){var t=e.card;"GUARD"===t||"PRIEST"===t||"BARON"===t||"PRINCE"===t||"KING"===t?i("PICK_TARGET"):(D.playCard(e.handId),g(!0))},disabled:E},"Play"))):r.a.createElement(N,null,r.a.createElement("div",{className:"cardPlayButtonDiv"},"Must play ",r.a.createElement(S,{card:"COUNTESS"})));if("PICK_TARGET"===l){var f=!1,I=e.playerDetails.map((function(t,a){return e.playerId===a&&"PRINCE"!==e.card?null:(f=f||"ALIVE"===t.state,r.a.createElement(s.h,{key:t.name},r.a.createElement("div",{className:"fullBox"},r.a.createElement("div",{className:"playerTopLine"},r.a.createElement("span",{className:"playerTopLineLeft"},r.a.createElement(R,{playerDetails:t}),r.a.createElement("span",{className:"playerName"},t.name),r.a.createElement(A,{status:t.state})),"ALIVE"!==t.state?null:r.a.createElement("span",{className:"playerTopLineRight"},r.a.createElement(s.b,{className:"verticalAlignMiddle",onClick:function(t){return n=a,void("GUARD"===e.card?(m(n),i("PICK_GUESS")):(D.playCard(e.handId,n),g(!0)));var n},disabled:E},"PICK"))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("div",{className:"interactionText"},"Pick a target")),r.a.createElement(N,null,r.a.createElement(s.k,null,I,f?null:r.a.createElement(s.h,null,r.a.createElement("div",{className:"center"},r.a.createElement(s.b,{onClick:function(){D.playCard(e.handId,-1),g(!0)},disabled:E},"No valid target")))),r.a.createElement("div",{className:"cardPlayButtonDiv"},r.a.createElement(s.b,{onClick:v},"Back"))))}if("PICK_GUESS"===l){var C=e.playerDetails[u];return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("div",{className:"interactionText"},"Guess what card ",r.a.createElement(U,{playerDetails:C})," has")),r.a.createElement(N,null,r.a.createElement(s.k,null,r.a.createElement(s.h,null,r.a.createElement("div",{className:"fullBox"},r.a.createElement("div",{className:"cardOptionLine"},r.a.createElement("span",{className:"cardOptionRight"},"(# Played / # In Deck)")))),y.map((function(t,a){return"GUARD"===t?null:r.a.createElement(s.h,{key:a},r.a.createElement("div",{className:"fullBox"},r.a.createElement("div",{className:"cardOptionLine"},r.a.createElement("span",{className:"cardOptionLeft"},r.a.createElement(S,{card:t})),r.a.createElement("span",{className:"cardOptionRight"},r.a.createElement(s.b,{disabled:E,className:"verticalAlignMiddle",onClick:function(a){return n=t,D.playCard(e.handId,u,n),void g(!0);var n}},"Pick (",e.discardedCardTotals[a]," / ",k(t).numInDeck,")")))))})),r.a.createElement("div",{className:"cardPlayButtonDiv"},r.a.createElement(s.b,{onClick:v},"Back")))))}return null}var Y=function(e){var t=Object(n.useState)(D.getUiProperty("hand")),a=Object(c.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(D.getUiProperty("playerDetails")),d=Object(c.a)(o,2),u=d[0],m=d[1],h=Object(n.useState)(D.getUiProperty("playerId")),p=Object(c.a)(h,2),y=p[0],g=p[1],v=Object(n.useState)(D.getUiProperty("turnId")),f=Object(c.a)(v,2),I=f[0],C=f[1],b=Object(n.useState)(D.getUiProperty("discardedCardTotals")),k=Object(c.a)(b,2),O=k[0],P=k[1];Object(n.useEffect)((function(){var e=new E("card");return e.onPropertyChange("hand",(function(e){i(e)})),e.onPropertyChange("playerDetails",(function(e){m(e)})),e.onPropertyChange("discardedCardTotals",(function(e){P(e)})),e.onPropertyChange("playerId",(function(e){g(e)})),e.onPropertyChange("turnId",(function(e){C(e)})),D.effectListeners(e)}),[]);var j,w,U=e.handId;return U>=l.length?(w=r.a.createElement(r.a.Fragment,null,"No card"),j=null):(w=r.a.createElement(S,{card:l[U]}),j=r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement(T,{card:l[U]})),I!==y?null:r.a.createElement(J,{playerDetails:u,playerId:y,handId:U,card:l[U],otherCard:l[0===U?1:0],discardedCardTotals:O}))),r.a.createElement(s.n,null,r.a.createElement(s.d,{fullscreen:!0},r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.c,{slot:"start"},r.a.createElement(s.m,null)),r.a.createElement(s.w,null,w))),j))};function z(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(U,{playerDetails:e.playerDetails})," discarded"),r.a.createElement(N,null,r.a.createElement(T,{card:e.card})))}function q(e){return r.a.createElement(w,null,r.a.createElement(U,{playerDetails:e.playerDetails})," has been eliminated!",r.a.createElement(A,{status:"DEAD"}))}function X(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(U,{playerDetails:e.playerDetails})," secretly reveals"),r.a.createElement(N,null,r.a.createElement(T,{card:e.card})))}function $(){var e=Object(n.useState)(D.getUiProperty("playerDetails")),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(D.getUiProperty("playerId")),o=Object(c.a)(i,2),d=o[0],u=o[1],m=Object(n.useState)(D.getUiProperty("turnId")),h=Object(c.a)(m,2),p=h[0],y=h[1],g=Object(n.useState)(D.getUiProperty("interaction")),v=Object(c.a)(g,2),f=v[0],I=v[1];if(Object(n.useEffect)((function(){var e=new E("interaction");return e.onPropertyChange("playerDetails",(function(e){l(e)})),e.onPropertyChange("playerId",(function(e){u(e)})),e.onPropertyChange("turnId",(function(e){y(e)})),e.onPropertyChange("interaction",(function(e){I(e)})),D.effectListeners(e)}),[]),"REVEAL"!==f.status&&"CONTINUE"!==f.status)return void 0!==a&&void 0!==p&&p>=0&&p<a.length?r.a.createElement(w,null,"Waiting for ",r.a.createElement(U,{playerDetails:a[p]})):r.a.createElement(w,null,"Waiting for something to happen...");var C,b=a[f.playerId],k=null,O=void 0!==f.targetId&&-1!==f.targetId;O&&(k=a[f.targetId]);var P="";"GUARD"===f.playedCard?O?(C=r.a.createElement(w,null,"To target ",r.a.createElement(U,{playerDetails:k}),"and guessed",r.a.createElement("span",{className:"hspacer"}),r.a.createElement(S,{card:f.guess})),P="Waiting for the big reveal"):C=r.a.createElement(w,null,"But there is nobody to target"):"PRIEST"===f.playedCard||"BARON"===f.playedCard||"PRINCE"===f.playedCard||"KING"===f.playedCard?O?(C=r.a.createElement(w,null,"To target ",r.a.createElement(U,{playerDetails:k})),P="Waiting for the big reveal"):C=r.a.createElement(w,null,"But there is nobody to target"):"PRINCESS"===f.playedCard&&(C=r.a.createElement(q,{playerDetails:b}));var j=null,R=null;if("REVEAL"===f.status&&f.targetId===d)R=r.a.createElement(w,null,r.a.createElement(s.b,{onClick:function(){D.interactionStep()}},"Reveal"));else if("CONTINUE"===f.status){if(j=f.playerId===d?r.a.createElement(w,null,r.a.createElement(s.b,{onClick:function(){D.interactionStep()}},"End Turn")):r.a.createElement(N,null,r.a.createElement("div",{className:"interactionText"},"Waiting for turn to end"),r.a.createElement("div",{className:"interactionDots"},r.a.createElement(L,null))),"GUARD"===f.playedCard&&O)R="CORRECT_GUESS"===f.result?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{playerDetails:k,card:f.guess}),r.a.createElement(q,{playerDetails:k})):r.a.createElement(w,null,"The guess was incorrect");else if("PRIEST"===f.playedCard&&O)R=f.playerId===d||f.targetId===d?r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{playerDetails:k,card:f.revealedCard})):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(U,{playerDetails:k})," has secretly revealed their card"));else if("BARON"===f.playedCard&&O){var A=a[f.loserId===f.playerId?f.targetId:f.playerId],x=a[f.loserId];if(f.playerId===d||f.targetId===d)if("TIE"===f.result)R=r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{playerDetails:b,card:f.revealedCard}),r.a.createElement(X,{playerDetails:k,card:f.revealedCard}),r.a.createElement(w,null,"Its a tie! (nothing happens)"));else{var _=d===f.playerId?f.otherCard:f.revealedCard,F=d===f.targetId?f.otherCard:f.revealedCard;R=r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{playerDetails:b,card:_}),r.a.createElement(X,{playerDetails:k,card:F}),r.a.createElement(w,null,r.a.createElement(U,{playerDetails:A})," wins!"),r.a.createElement(q,{playerDetails:x}))}else R="TIE"===f.result?r.a.createElement(w,null,"Its a tie! (nothing happens)"):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(U,{playerDetails:A})," wins!"),r.a.createElement(z,{playerDetails:x,card:f.discard}),r.a.createElement(q,{playerDetails:x}))}else if("PRINCE"===f.playedCard&&O)R=r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{playerDetails:k,card:f.revealedCard}),"PRINCESS"!==f.revealedCard?null:r.a.createElement(q,{playerDetails:k}));else if("KING"===f.playedCard&&O&&(f.playerId===d||f.targetId===d)){var G=d===f.playerId?f.otherCard:f.swappedFor,H=d===f.targetId?f.prevCard:f.swappedFor;R=r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{playerDetails:b,card:G}),r.a.createElement(X,{playerDetails:k,card:H}),r.a.createElement(w,null,r.a.createElement(U,{playerDetails:b})," now has ",r.a.createElement("span",{className:"hspacer"}),r.a.createElement(S,{card:H})),r.a.createElement(w,null,r.a.createElement(U,{playerDetails:k})," now has ",r.a.createElement("span",{className:"hspacer"}),r.a.createElement(S,{card:G})))}}else R=r.a.createElement(N,null,r.a.createElement("div",{className:"interactionText"},P),r.a.createElement("div",{className:"interactionDots"},r.a.createElement(L,null)));return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("div",{className:"interactionText"},r.a.createElement(U,{playerDetails:b})," played")),r.a.createElement(N,null,r.a.createElement(T,{card:f.playedCard})),C,R,j,r.a.createElement("div",{className:"scrollHack"}))}var Q=function(){return r.a.createElement(s.n,null,r.a.createElement(s.d,{fullscreen:!0},r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.c,{slot:"start"},r.a.createElement(s.m,null)),r.a.createElement(s.w,null,"Action"))),r.a.createElement($,null)))},Z=function(){var e=Object(n.useState)(D.getUiProperty("hand")),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(D.getUiProperty("playerDetails")),u=Object(c.a)(i,2),m=u[0],h=u[1],p=Object(n.useState)(D.getUiProperty("playerId")),y=Object(c.a)(p,2),g=y[0],v=y[1];Object(n.useEffect)((function(){var e=new E("game");return e.onPropertyChange("hand",(function(e){l(e)})),e.onPropertyChange("playerDetails",(function(e){h(e)})),e.onPropertyChange("playerId",(function(e){v(e)})),D.effectListeners(e)}),[]);var f=r.a.createElement(s.f,{icon:d.t}),I=!1;return m&&void 0!==g&&g>=0&&g<m.length&&"DEAD"===m[g].state&&(f=r.a.createElement(A,{status:"DEAD"}),I=!0),r.a.createElement(s.v,null,r.a.createElement(s.p,null,r.a.createElement(o.a,{exact:!0,path:"/tabs",to:"/tabs/game"}),r.a.createElement(o.a,{exact:!0,path:"/",to:"/tabs/game"}),r.a.createElement(o.b,{path:"/tabs/game",render:function(){return r.a.createElement(B,null)},exact:!0}),r.a.createElement(o.b,{path:"/tabs/card/0",render:function(){return r.a.createElement(Y,{handId:0})},exact:!0}),r.a.createElement(o.b,{path:"/tabs/card/1",render:function(){return r.a.createElement(Y,{handId:1})},exact:!0}),r.a.createElement(o.b,{path:"/tabs/interaction",render:function(){return r.a.createElement(Q,null)},exact:!0})),r.a.createElement(s.t,{slot:"bottom"},r.a.createElement(s.u,{tab:"interaction",href:"/tabs/interaction"},r.a.createElement(s.f,{icon:d.d}),r.a.createElement(s.j,null,"Action")),r.a.createElement(s.u,{tab:"game",href:"/tabs/game"},r.a.createElement(s.f,{icon:d.a}),r.a.createElement(s.j,null,"Players")),r.a.createElement(s.u,{tab:"card0",href:"/tabs/card/0",disabled:I},f,I?"DEAD":0===a.length?"None":r.a.createElement(S,{card:a[0]})),a.length<=1?"None":r.a.createElement(s.u,{tab:"card1",href:"/tabs/card/1"},r.a.createElement(s.f,{icon:d.t}),r.a.createElement(S,{card:a[1]}))))};function ee(e){return r.a.createElement(r.a.Fragment,null,y.map((function(t,a){return r.a.createElement("div",{key:t,onClick:function(){return function(t){e.gotoSlideCb(t+1)}(a)}},r.a.createElement("span",{className:"alignLeft"},r.a.createElement(S,{card:t})),r.a.createElement("span",{className:"alignRight"},e.discardedCardTotals[a]," / ",k(t).numInDeck),r.a.createElement("br",null),r.a.createElement("br",null))})))}function te(e){return r.a.createElement(N,null,r.a.createElement("span",{className:"alignLeft"},"Card (value)"),r.a.createElement("span",{className:"alignRight"},"# Discarded / # In Deck"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ee,{discardedCardTotals:e.discardedCardTotals,gotoSlideCb:e.gotoSlideCb}))}function ae(e){function t(){e.gotoSlideCb(0)}return r.a.createElement(r.a.Fragment,null,y.map((function(e,a){return r.a.createElement(s.q,{key:e},r.a.createElement(N,null,r.a.createElement(T,{card:e}),r.a.createElement(s.b,{onClick:t},"Back")))})))}var ne=function(){var e=Object(n.useState)(D.getUiProperty("discardedCardTotals")),t=Object(c.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=new E("help");return e.onPropertyChange("discardedCardTotals",(function(e){l(e)})),D.effectListeners(e)}),[]);var i=Object(n.useRef)(null),o=function(e){var t;null===(t=i.current)||void 0===t||t.slideTo(e)};return r.a.createElement(s.n,null,r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.c,{slot:"start"},r.a.createElement(s.m,null)),r.a.createElement(s.w,null,"Help"))),r.a.createElement(s.d,{fullscreen:!0},r.a.createElement(s.r,{ref:i},r.a.createElement(s.q,null,r.a.createElement(te,{discardedCardTotals:a,gotoSlideCb:o})),r.a.createElement(ae,{gotoSlideCb:o}))))},re=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(),o=Object(c.a)(i,2),d=o[0],u=o[1];return r.a.createElement(s.n,null,r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.w,null,"IonInput Examples"))),r.a.createElement(s.d,null,r.a.createElement(s.k,null,r.a.createElement(s.i,null,"Default Input with Placeholder"),r.a.createElement(s.h,null,r.a.createElement(s.g,{value:a,placeholder:"Enter Input",onIonChange:function(e){return l(e.detail.value)}})),r.a.createElement(s.i,null,"Input with clear button when there is a value"),r.a.createElement(s.h,null,r.a.createElement(s.g,{value:a,placeholder:"Enter Input",onIonChange:function(e){return l(e.detail.value)},clearInput:!0})),r.a.createElement(s.i,null,"Number type input"),r.a.createElement(s.h,null,r.a.createElement(s.g,{type:"number",value:d,placeholder:"Enter Number",onIonChange:function(e){return u(parseInt(e.detail.value,10))}})),r.a.createElement(s.i,null,"Disabled input"),r.a.createElement(s.h,null,r.a.createElement(s.g,{value:a,disabled:!0})),r.a.createElement(s.i,null,"Readonly input"),r.a.createElement(s.h,null,r.a.createElement(s.g,{value:a,readonly:!0})),r.a.createElement(s.i,null,"Inputs with labels"),r.a.createElement(s.h,null,r.a.createElement(s.j,null,"Default Label"),r.a.createElement(s.g,null)),r.a.createElement(s.h,null,r.a.createElement(s.j,{position:"floating"},"Floating Label"),r.a.createElement(s.g,{value:a})),r.a.createElement(s.h,null,r.a.createElement(s.j,{position:"fixed"},"Fixed Label"),r.a.createElement(s.g,{value:a})),r.a.createElement(s.h,null,r.a.createElement(s.j,{position:"stacked"},"Stacked Label"),r.a.createElement(s.g,{value:a}," ")))))};function le(e){function t(){e.pickedCharacterCb(e.id)}return r.a.createElement("div",{className:e.isAlreadyPicked?"characterGridCellAlreadyPicked":e.isSelected?"characterGridCellSelected":e.isPicked?"characterGridCellPicked":"characterGridCell",onClick:t},r.a.createElement("img",{src:"img/characters/"+e.img,className:"characterImg",onClick:t,alt:"lol"}))}function ie(e){return r.a.createElement(r.a.Fragment,null,j.map((function(t,a){return r.a.createElement(le,{key:a,id:a,img:t,isSelected:e.selectedCharacterId===a,isAlreadyPicked:-1!==e.alreadyPickedIds.indexOf(a),isPicked:e.pickedCharacterId===a,pickedCharacterCb:e.pickedCharacterCb})})))}var ce=function(){var e=Object(n.useState)(D.getUiProperty("pickedCharacterId")),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(D.getUiProperty("alreadyPickedIds")),o=Object(c.a)(i,2),d=o[0],u=o[1],m=Object(n.useState)(D.getUiProperty("pickedCharacterId")),h=Object(c.a)(m,2),p=h[0],y=h[1],g=Object(n.useState)(!1),v=Object(c.a)(g,2),f=v[0],I=v[1];return Object(n.useEffect)((function(){var e=new E("pickCharacter");return e.onPropertyChange("pickedCharacterId",(function(e){y(e),l(e)})),e.onPropertyChange("alreadyPickedIds",(function(e){return u(e)})),e.onEvent("pickedCharacterInUse",(function(){I(!1)})),D.effectListeners(e)}),[]),r.a.createElement(s.n,null,r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.c,{slot:"start"},r.a.createElement(s.m,null)),r.a.createElement(s.w,null,r.a.createElement(s.b,{disabled:-1===a||p!==a&&-1!==d.indexOf(a)||f,onClick:function(){I(!0),D.pickCharacter(a)}},"Pick Character")))),r.a.createElement(s.d,{fullscreen:!0},r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement(ie,{selectedCharacterId:a,alreadyPickedIds:d,pickedCharacterId:p,pickedCharacterCb:function(e){l(e),-1!==p&&e!==p&&D.clearPickedCharacter()}})),r.a.createElement("div",null,"Icons made by ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")))))},se=function(){var e=Object(n.useState)(D.getUiProperty("username")),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(D.getUiProperty("roomcode")),o=Object(c.a)(i,2),d=o[0],u=o[1],m=Object(n.useState)(""),h=Object(c.a)(m,2),p=h[0],y=h[1],g=Object(n.useState)(!0),v=Object(c.a)(g,2),f=v[0],I=v[1],C=Object(n.useState)(!0),b=Object(c.a)(C,2),k=b[0],O=b[1],P=Object(n.useState)(!1),j=Object(c.a)(P,2),N=j[0],w=j[1];return Object(n.useEffect)((function(){var e=new E("login");return e.onPropertyChange("roomcode",(function(e){u(e)})),e.onEvent("connectionError",(function(){w(!0),O(!0),I(!0)})),e.onEvent("leaveRoom",(function(){O(!0),I(!0)})),D.effectListeners(e)}),[]),r.a.createElement(s.n,null,r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.w,null,"Loveletter"))),r.a.createElement(s.d,null,r.a.createElement(s.k,null,r.a.createElement(s.h,null,r.a.createElement(s.g,{value:a,placeholder:"NAME",onIonChange:function(e){return l(e.detail.value)},clearInput:!0,maxlength:15})),r.a.createElement(s.h,null,r.a.createElement(s.g,{value:d,placeholder:"ROOM CODE",onIonChange:function(e){return u(e.detail.value)},clearInput:!0,maxlength:4,autocapitalize:"characters",className:"uppercase-input"}),r.a.createElement(s.b,{onClick:function(){D.joinRoom(a,d),O(!1),y(d)},disabled:!k||d.length<4||a.length<3},"Join Room"),r.a.createElement(s.b,{onClick:function(){u(""),D.createRoom(),I(!1)},disabled:!f},"Create Room"))),r.a.createElement(s.x,{isOpen:N,onDidDismiss:function(){return w(!1)},message:"Failed connecting to room code "+p+".",duration:5e3})))},oe=a(50);a(70),a(71),a(72),a(73),a(74),a(75),a(76),a(77),a(78),a(79),a(80);function de(e){return r.a.createElement("div",{className:"roundEndPlayerLine"},r.a.createElement("div",{className:"alignLeft"},r.a.createElement(U,{playerDetails:e.playerDetails})),"DEAD"===e.playerDetails.state?r.a.createElement("div",{className:"roundEndPlayerStatus"},r.a.createElement("span",{className:"middlerHack"}),r.a.createElement(A,{status:"DEAD"})):e.finalCard?r.a.createElement("div",{className:"alignRight"},r.a.createElement("span",{className:"middlerHack"}),r.a.createElement("span",{className:"hspacer"}),r.a.createElement(S,{card:e.finalCard})):null)}function ue(e){return r.a.createElement(r.a.Fragment,null,e.playerDetails.map((function(t,a){return r.a.createElement(s.h,{key:a},r.a.createElement(de,{finalCard:e.finalCards.length>0?e.finalCards[a]:null,playerDetails:t}))})))}function me(e){if(void 0!==e.gameWinner)return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(U,{playerDetails:e.playerDetails[e.gameWinner]})," wins the game!"),r.a.createElement(w,null,r.a.createElement(H,{wins:e.playerDetails[e.gameWinner].wins,seed:e.roomSeed+10*e.gameWinner})));function t(){D.interactionStep()}return r.a.createElement(r.a.Fragment,null,e.winnerIds.map((function(a,n){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(w,null,r.a.createElement(U,{playerDetails:e.playerDetails[a]})," wins the round!"),r.a.createElement(w,null,r.a.createElement(H,{wins:e.playerDetails[a].wins,seed:e.roomSeed+10*a}),r.a.createElement("br",null),f[e.playerDetails.length]-e.playerDetails[a].wins," more tokens needed to win"),e.playerId===a?r.a.createElement(w,null,r.a.createElement(s.b,{onClick:t},"New round")):null)})))}var he=function(){var e=Object(n.useState)(D.getUiProperty("playerDetails")),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(D.getUiProperty("playerId")),o=Object(c.a)(i,2),d=o[0],u=o[1],m=Object(n.useState)(D.getUiProperty("interaction")),h=Object(c.a)(m,2),p=h[0],y=h[1],g=Object(n.useState)(D.getUiProperty("roomSeed")),v=Object(c.a)(g,2),f=v[0],I=v[1];return Object(n.useEffect)((function(){var e=new E("roundComplete");return e.onPropertyChange("playerDetails",(function(e){l(e)})),e.onPropertyChange("playerId",(function(e){u(e)})),e.onPropertyChange("interaction",(function(e){y(e)})),e.onPropertyChange("roomSeed",(function(e){I(e)})),D.effectListeners(e)}),[]),r.a.createElement(s.n,null,r.a.createElement(s.d,{fullscreen:!0},r.a.createElement(s.e,null,r.a.createElement(s.y,null,r.a.createElement(s.c,{slot:"start"},r.a.createElement(s.m,null)),r.a.createElement(s.w,null,"Round Complete"))),"ROUND_COMPLETE"!==p.status?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(s.k,null,r.a.createElement(ue,{finalCards:p.finalCards||[],playerDetails:a}))),r.a.createElement(me,{playerId:d,playerDetails:a,winnerIds:p.winnerIds||[],gameWinner:p.gameWinner,roomSeed:f}))))},pe=function(){return r.a.createElement(s.a,null,r.a.createElement(oe.a,null,r.a.createElement(s.s,{contentId:"main"},r.a.createElement(_,null),r.a.createElement(s.p,{id:"main"},r.a.createElement(o.b,{path:"/tabs",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(o.b,{path:"/page/Login",component:se,exact:!0}),r.a.createElement(o.b,{path:"/page/PickCharacter",component:ce,exact:!0}),r.a.createElement(o.b,{path:"/page/Help",component:ne,exact:!0}),r.a.createElement(o.b,{path:"/page/RoundComplete",component:he,exact:!0}),r.a.createElement(o.b,{path:"/page/Test",component:re,exact:!0}),r.a.createElement(o.a,{from:"/",to:"/page/Login",exact:!0})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,3,4]]]);
//# sourceMappingURL=main.d7302907.chunk.js.map